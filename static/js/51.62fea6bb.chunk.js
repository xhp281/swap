(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[51],{1830:function(t,e,r){"use strict";r.r(e),r.d(e,"getClientSideQuote",(function(){return j}));var n=r(28),o=r.n(n),a=r(115),i=r.n(a),u=r(62),s=r.n(u),c=r(5),d=r(360),l=r(9),m=r.n(l),p=r(206),f=r(47);r(1),r(151),r(48),r(292),r(18),r(368),r(133),r(31),r(189),r(784),r(236),r(751),r(171),r(170),r(203),r(240),r(147),r(677),r(363),r(752),r(354),r(282),r(98),r(24),r(273),r(353),r(532),r(429),r(340),r(301),r(270),r(754),r(525),r(356),r(755),r(522),r(523),r(298),r(113);function b(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g(t){var e,r=t.quote,n=t.quoteGasAdjusted,o=t.route,a=t.routeString,i=t.estimatedGasUsed,u=t.estimatedGasUsedQuoteToken,s=t.estimatedGasUsedUSD,c=t.gasPriceWei,d=t.methodParameters,l=t.blockNumber,m=t.trade,y=m.tradeType,g=m.inputAmount,h=m.outputAmount,v=[],O=b(o);try{for(O.s();!(e=O.n()).done;){var k=e.value,S=k.amount,w=k.quote,I=k.tokenPath;if(k.protocol===f.Protocol.V3){for(var q=k.route.pools,j=[],P=0;P<q.length;P++){var A=q[P],E=I[P],x=I[P+1],C=void 0;0===P&&(C=Object(p.g)(y)?S.quotient.toString():w.quotient.toString());var D=void 0;P===q.length-1&&(D=Object(p.g)(y)?w.quotient.toString():S.quotient.toString()),j.push({type:"v3-pool",tokenIn:{chainId:E.chainId,decimals:E.decimals,address:E.address,symbol:E.symbol},tokenOut:{chainId:x.chainId,decimals:x.decimals,address:x.address,symbol:x.symbol},fee:A.fee.toString(),liquidity:A.liquidity.toString(),sqrtRatioX96:A.sqrtRatioX96.toString(),tickCurrent:A.tickCurrent.toString(),amountIn:C,amountOut:D})}v.push(j)}else if(k.protocol===f.Protocol.V2){for(var T=k.route.pairs,U=[],G=0;G<T.length;G++){var N=T[G],M=I[G],L=I[G+1],Q=void 0;0===G&&(Q=Object(p.g)(y)?S.quotient.toString():w.quotient.toString());var R=void 0;G===T.length-1&&(R=Object(p.g)(y)?w.quotient.toString():S.quotient.toString());var B=N.reserve0,W=N.reserve1;U.push({type:"v2-pool",tokenIn:{chainId:M.chainId,decimals:M.decimals,address:M.address,symbol:M.symbol},tokenOut:{chainId:L.chainId,decimals:L.decimals,address:L.address,symbol:L.symbol},reserve0:{token:{chainId:B.currency.wrapped.chainId,decimals:B.currency.wrapped.decimals,address:B.currency.wrapped.address,symbol:B.currency.wrapped.symbol},quotient:B.quotient.toString()},reserve1:{token:{chainId:W.currency.wrapped.chainId,decimals:W.currency.wrapped.decimals,address:W.currency.wrapped.address,symbol:W.currency.wrapped.symbol},quotient:W.quotient.toString()},amountIn:Q,amountOut:R})}v.push(U)}}}catch(V){O.e(V)}finally{O.f()}var J=Object(p.g)(y)?g:h;return{methodParameters:d,blockNumber:l.toString(),amount:J.quotient.toString(),amountDecimals:J.toExact(),quote:r.quotient.toString(),quoteDecimals:r.toExact(),quoteGasAdjusted:n.quotient.toString(),quoteGasAdjustedDecimals:n.toExact(),gasUseEstimateQuote:u.quotient.toString(),gasUseEstimateQuoteDecimals:u.toExact(),gasUseEstimate:i.toString(),gasUseEstimateUSD:s.toExact(),gasPriceWei:c.toString(),route:v,routeString:a}}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O=Object.values(d.b).filter((function(t){return Number.isInteger(t)}));function k(t){return Boolean(t&&O.includes(t))}var S=new WeakMap;function w(t,e){var r,n,o,a=S.get(e)||{},i=a[t];if(i)return i;t!==d.b.MAINNET&&(r=new d.f(t)),[d.b.POLYGON,d.b.POLYGON_MUMBAI].includes(t)&&(o=new d.g(t,e,375e3),n=new d.e(t,e,o,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:10,gasLimitPerCall:5e6,quoteMinSuccessRate:.1},{gasLimitOverride:5e6,multicallChunk:5},{gasLimitOverride:625e4,multicallChunk:4}));var u=new d.a({chainId:t,provider:e,v2SubgraphProvider:r,multicall2Provider:o,onChainQuoteProvider:n});return a[t]=u,S.set(e,a),u}function I(t,e,r){return q.apply(this,arguments)}function q(){return(q=i()(s.a.mark((function t(e,r,n){var o,a,i,u,l,f,b,y,h,O;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.tradeType,a=e.tokenIn,i=e.tokenOut,u=e.amount,l=new c.Token(a.chainId,a.address,a.decimals,a.symbol),f=new c.Token(i.chainId,i.address,i.decimals,i.symbol),b=Object(p.g)(o)?l:f,y=Object(p.g)(o)?f:l,h=c.CurrencyAmount.fromRawAmount(b,m.a.BigInt(null!==u&&void 0!==u?u:"1")),t.next=8,r.route(h,y,o,void 0,n);case 8:if(O=t.sent,null!==u&&O){t.next=11;break}return t.abrupt("return",p.c);case 11:return t.abrupt("return",g(v(v({},O),{},{routeString:Object(d.i)(O.route)})));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t,e){return P.apply(this,arguments)}function P(){return(P=i()(s.a.mark((function t(e,r){var n,o,a,i,u,c,d,l,m,p,f,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.tokenInAddress,o=e.tokenInChainId,a=e.tokenInDecimals,i=e.tokenInSymbol,u=e.tokenOutAddress,c=e.tokenOutChainId,d=e.tokenOutDecimals,l=e.tokenOutSymbol,m=e.amount,p=e.tradeType,f=e.provider,k(o)){t.next=3;break}throw new Error("Router does not support this token's chain (chainId: ".concat(o,")."));case 3:return b=w(o,f),t.abrupt("return",I({tradeType:p,tokenIn:{address:n,chainId:o,decimals:a,symbol:i},tokenOut:{address:u,chainId:c,decimals:d,symbol:l},amount:m},b,r));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=51.62fea6bb.chunk.js.map